title: [Misskey] ìœ ë‹ˆì½”ë“œ ì´ëª¨ì§€ í”½ì»¤ ê°œì„ 
<--->

# ë™ê¸°

Misskeyì˜ ì»¤ìŠ¤í…€ ì´ëª¨ì§€ì—ëŠ” ê°ê° íƒœê·¸ë¥¼ ë¶™ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

![](https://peachtart2.s3.amazonaws.com/tart/de6561b9-923b-4ca4-96b0-fc83362ce4ae.webp)

íƒœê·¸ë¥¼ ë¶™ì´ë©´ ì´ëª¨ì§€ë¥¼ ê²€ìƒ‰í•˜ëŠ” ì‚¬ëŒë“¤ì´ ì´ëª¨ì§€ì˜ ì •í™•í•œ ì´ë¦„ì„ ì…ë ¥í•˜ì§€ ì•Šë”ë¼ë„ ê²€ìƒ‰ ê¸°ëŠ¥ì„ í†µí•´ ì´ëª¨ì§€ë¥¼ ì…ë ¥í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.

ê·¸ë¦¬ê³  ì´ íƒœê·¸ëŠ” ë¡œë§ˆìë¿ ì•„ë‹ˆë¼ í•œêµ­ì–´ë‚˜ ì¼ë³¸ì–´ë¡œë„ ì„¤ì •í•  ìˆ˜ ìˆì–´ìš”.

ê·¸ëŸ°ë° ì´ ê¸°ëŠ¥ì€ (ë‹¹ì—°í•˜ê²Œë„) ìœ ë‹ˆì½”ë“œ ì´ëª¨ì§€ì—ëŠ” ì ìš©ë˜ì§€ ì•Šì•„ì„œ, ì‚¬ëŒë“¤ì´ ìœ ë‹ˆì½”ë“œ ì´ëª¨ì§€ë¥¼ ì…ë ¥í•˜ë ¤ë©´ ì§ì ‘ ì´ëª¨ì§€ì˜ ì˜ì–´ì´ë¦„ì„ ê²€ìƒ‰í•´ì•¼ í–ˆì–´ìš”.

# 1ì°¨ ìˆ˜ì •(2023ë…„?)

ì´ ê¸°ëŠ¥ì„ ì²˜ìŒ ìˆ˜ì •í•œ ê²ƒì€ ì‘ë…„ì´ì—ˆë˜ ê±¸ë¡œ ê¸°ì–µí•©ë‹ˆë‹¤. 

ë¨¼ì € `emojilist.json` ì„ ë‹¤ìŒê³¼ ê°™ì´ ë³€ê²½í•˜ì˜€ìŠµë‹ˆë‹¤.

```
...
	["ğŸ§‘â€ğŸŒ¾", "farmer", 1, "ë†ë¶€"],
...
```

ì´ëŠ” ê¸°ì¡´ì˜ `emojilist.json` ì˜ ê° ë°°ì—´ì— 3ë²ˆì§¸ ì¸ë±ìŠ¤ë¥¼ ì¶”ê°€í•˜ê³  í•œêµ­ì–´ íƒœê·¸ë¥¼ ì…ë ¥í•´ ì¤€ ê²ƒì…ë‹ˆë‹¤.

ê·¸ ë‹¤ìŒ ì´ëª¨ì§€ë¥¼ ì‚¬ìš©í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ (ë¦¬ì•¡ì…˜, ì˜¤í† ì»´í”Œë¦¬íŠ¸ ë“±) ì—ì„œ ì»¤ìŠ¤í…€ ì´ëª¨ì§€ì™€ ê°™ì€ ë°©ì‹ìœ¼ë¡œ ìœ ë‹ˆì½”ë“œ ì´ëª¨ì§€ë¥¼ ë¶ˆëŸ¬ì˜¤ë„ë¡ ì ìš©í–ˆìŠµë‹ˆë‹¤.

ê·¸ë ‡ì§€ë§Œ íƒœê·¸ë¥¼ í•˜ë‚˜ë°–ì— ì“¸ ìˆ˜ ì—†ì—ˆìŠµë‹ˆë‹¤. ê³µë°±ìœ¼ë¡œ ë¶„ë¦¬ë˜ì§€ ì•Šì•˜ì–´ìš”. ì•„ë§ˆë„ ì´ê²ƒì€ ë‹¹ì‹œ ì €ì˜ ëŠ¥ë ¥ì´ ì§§ì•˜ê¸° ë•Œë¬¸ì¼ ê²ƒì…ë‹ˆë‹¤.

ê·¸ë˜ì„œ ì˜¤ëŠ˜ ì•„ì¹¨ ì´ê²ƒì„ ìˆ˜ì •í•´ ì£¼ì—ˆìŠµë‹ˆë‹¤.

# 2ì°¨ ìˆ˜ì •(2024ë…„ 12ì›” 20ì¼)

ë¨¼ì € `packages/frontend-shared/js/emojilist.json` ì˜ 'ğŸ‘' ì´ëª¨ì§€ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ìˆ˜ì •í–ˆìŠµë‹ˆë‹¤.

```
...
	["ğŸ‘", "+1", 1, "ë¶ì—… ì—„ì§€ì²™ êµ¿ì¡ ë”°ë´‰"],
...
```

ì´ê²ƒì€ ğŸ‘ì´ë¼ëŠ” ì´ëª¨ì§€ì— 'ë¶ì—…', 'ì—„ì§€ì²™', 'êµ¿ì¡', 'ë”°ë´‰' ì´ë¼ëŠ” ë„¤ ê°œì˜ íƒœê·¸ë¥¼ ë¶€ì—¬í•´ ì¤€ ê²ƒì…ë‹ˆë‹¤.

ë‹¤ìŒìœ¼ë¡œ `packages/frontend-shared/js/emojilist.ts` ì˜ ì¼ë¶€ë¥¼ ìˆ˜ì •í–ˆìŠµë‹ˆë‹¤.

ë‹¤ìŒì€ ê¸°ì¡´ Misskeyì˜ ì½”ë“œì…ë‹ˆë‹¤.

```
export type UnicodeEmojiDef = {
	name: string;
	char: string;
	category: typeof unicodeEmojiCategories[number];
}

// initial converted from https://github.com/muan/emojilib/commit/242fe68be86ed6536843b83f7e32f376468b38fb
import _emojilist from './emojilist.json';

export const emojilist: UnicodeEmojiDef[] = _emojilist.map(x => ({
	name: x[1] as string,
	char: x[0] as string,
	category: unicodeEmojiCategories[x[2] as number],
}));
```

ë‹¤ìŒì€ ì œê°€ ìˆ˜ì •í•œ ì½”ë“œì…ë‹ˆë‹¤.

```
export type UnicodeEmojiDef = {
	name: string;
	char: string;
	category: typeof unicodeEmojiCategories[number];
	aliases: string[];
}

// initial converted from https://github.com/muan/emojilib/commit/242fe68be86ed6536843b83f7e32f376468b38fb
import _emojilist from './emojilist.json';

export const emojilist: UnicodeEmojiDef[] = _emojilist.map(x => ({
	name: x[1] as string,
	char: x[0] as string,
	category: unicodeEmojiCategories[x[2] as number],
	aliases: typeof x[3] === 'string' ? x[3].split(' ') : []
}));
```

`x[3]`, ê·¸ëŸ¬ë‹ˆê¹Œ Arrayì˜ ì„¸ë²ˆì§¸ ì¸ë±ìŠ¤ë¥¼ ê³µë°±ìœ¼ë¡œ ë¶„ë¦¬í•´ì„œ Arrayë¡œ ë°˜í™˜í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.

ì´ê²Œ ëì´ë¼ê³  ìƒê°í–ˆëŠ”ë°, ë¦¬ì•¡ì…˜ í”½ì»¤ì—ì„œë§Œ ì‘ë™í•˜ê³  ì˜¤í† ì»´í”Œë¦¬íŠ¸ì—ì„  ì‘ë™ì„ ì•ˆí•˜ë”ë¼êµ¬ìš”.

![](https://peachtart2.s3.amazonaws.com/tart/thumbnail-5e6c4272-0209-4ab7-8db2-f8842bd69608.webp)

`packages/frontend/src/components/MkAutocomplete.vue` ì˜ ì˜¤í† ì»´í”Œë¦¬íŠ¸ ì¼ë¶€ë¶„ì„ ë‹¤ìŒê³¼ ê°™ì´ ìˆ˜ì •í•´ì£¼ì–´ì•¼ í–ˆìŠµë‹ˆë‹¤.

ë‹¤ìŒì€ ê¸°ì¡´ Misskeyì˜ ì½”ë“œì…ë‹ˆë‹¤.

```
	const unicodeEmojiDB: EmojiDef[] = lib.map(x => ({
		emoji: x.char,
		name: x.name,
		url: char2path(x.char),
	}));

	for (const index of Object.values(defaultStore.state.additionalUnicodeEmojiIndexes)) {
		for (const [emoji, keywords] of Object.entries(index)) {
			for (const k of keywords) {
				unicodeEmojiDB.push({
					emoji: emoji,
					name: k,
					aliasOf: getEmojiName(emoji),
					url: char2path(emoji),
				});
			}
		}
	}
```

ë‹¤ìŒì€ ì œê°€ ë³€ê²½í•œ ì½”ë“œì…ë‹ˆë‹¤.

```
	const unicodeEmojiDB: EmojiDef[] = lib.map(x => ({
		emoji: x.char,
		name: x.name,
		url: char2path(x.char),
	}));

    //ì´ëª¨ì§€ì— ì§€ì •ëœ ëª¨ë“  íƒœê·¸ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤.
	for (const x of lib) {
		if (x.aliases) {
			for (const alias of x.aliases) {
				unicodeEmojiDB.push({
					name: alias,
					aliasOf: x.name,
					emoji: x.char,
					url: char2path(x.char),
				});
			}
		}
	}

	for (const index of Object.values(defaultStore.state.additionalUnicodeEmojiIndexes)) {
		for (const [emoji, keywords] of Object.entries(index)) {
			for (const k of keywords) {
				unicodeEmojiDB.push({
					emoji: emoji,
					name: k,
					aliasOf: getEmojiName(emoji),
					url: char2path(emoji),
				});
			}
		}
	}
```

# ê²°ê³¼

![](https://peachtart2.s3.amazonaws.com/tart/thumbnail-56e8c3b6-362f-40b5-ab6e-3f7f2999c9a2.webp)
![](https://peachtart2.s3.amazonaws.com/tart/thumbnail-7658b3f9-84c5-4a15-9d27-501e5f92e5ed.webp)
![](https://peachtart2.s3.amazonaws.com/tart/thumbnail-1239507b-9dd1-4d7c-9570-d9281f0a616e.webp)

ì˜¤ëŠ˜ ë³€ê²½í•œ ê±´ ì´ ì •ë„ì˜€ê³ , í˜¹.. ì‹œë¼ë„ ì ìš©ì´ ì•ˆë˜ëŠ” ê²½ìš°ê°€ ìˆë‹¤ë©´ [ë ˆí¬ì§€í† ë¦¬](https://github.com/jyhyun1008/peachtart)ì— ì˜¤ì…”ì„œ ì²´ë¦¬í”½ í•´ê°€ì‹œê¸¸ ë°”ëë‹ˆë‹¤.